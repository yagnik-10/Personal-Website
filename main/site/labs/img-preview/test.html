<link
  rel="stylesheet"
  type="text/css"
  href="https://unpkg.com/@kizu/mixins@0.1.3/preview.css"
/>

<img src="test.png" width="1456" height="654" style="--lqip:-91797" />

<img src="/wares/dimensions/media/instagram.png" width="935" height="600" style="--lqip:490787" />

<img src="/wares/mandelbrot/media/mb-thumb.png" width="1000" height="1000" style="--lqip:-154334" />

<img src="/wares/miniforts/media/miniforts_header.png" width="1334" height="680" style="--lqip:92836" />

<img src="/notes/simple-image-recognition-vanilla-js/hero.png" width="1600" height="1200" style="--lqip:-108070" />

<img src="/notes/pure-css-halftone/flowers.jpg" width="500" height="362" style="--lqip:174434" />

<img src="/notes/pure-css-halftone/eye.jpg" width="600" height="388" style="--lqip:-147677" />

<img src="/wares/wikawik/media/wikawik.jpg" width="1200" height="1200" style="--lqip:154330" />

<img src="/notes/dynamic-patrol-stealth-games/sc.jpg" width="1200" height="750" style="--lqip:-219804" />

<img src="/notes/css-sprite-sheets/hero.png" width="1500" height="1000" style="--lqip:-174366" />

<img src="test11.png" width="600" height="400" style="--lqip:157044" />

<img src="/notes/my-personalised-keyboard/photo.jpg" width="1200" height="903" style="--lqip:158116" />

<style>
  body {
    display: grid;
    --img-width: 300px;
    --img-height: 200px;
    grid-template-columns: repeat(auto-fit, var(--img-width));
    grid-template-rows: repeat(auto-fit, var(--img-height));
    gap: 50px;
    background-color: gray;
  }

  img {
    width: var(--img-width);
    height: var(--img-height);
  }

  [style*="--lqip:"] {
    --ca: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 18))), 4);
    --cb: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 16))), 4);
    --cc: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 14))), 4);
    --cd: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 12))), 4);
    --ce: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 10))), 4);
    --cf: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 8))), 4);
    --ll: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 6))), 4);
    --aaa: mod(round(down, calc((var(--lqip) + pow(2, 19)) / pow(2, 3))), 8);
    --bbb: mod(calc(var(--lqip) + pow(2, 19)), 8);

    --ca-color: hsl(0 0% calc(var(--ca) / 3 * 100%));
    --cb-color: hsl(0 0% calc(var(--cb) / 3 * 100%));
    --cc-color: hsl(0 0% calc(var(--cc) / 3 * 100%));
    --cd-color: hsl(0 0% calc(var(--cd) / 3 * 100%));
    --ce-color: hsl(0 0% calc(var(--ce) / 3 * 100%));
    --cf-color: hsl(0 0% calc(var(--cf) / 3 * 100%));
    --base-color: oklab(
      calc(var(--ll) / 3 * 0.6 + 0.2) calc(var(--aaa) / 8 * 0.7 - 0.35)
        calc((var(--bbb) + 1) / 8 * 0.7 - 0.35)
    );

    --ellipse-w: 50%;
    --ellipse-h: 75%;
    background-blend-mode: hard-light, hard-light, hard-light, hard-light,
      hard-light, hard-light, overlay, overlay, overlay, overlay, overlay,
      overlay;
    background-image: radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 16.67% 25%,
        rgb(from var(--ca-color) r g b / 50%),
        rgb(from var(--ca-color) r g b / 40%) 25%,
        rgb(from var(--ca-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 83.33% 25%,
        rgb(from var(--cc-color) r g b / 50%),
        rgb(from var(--cc-color) r g b / 40%) 25%,
        rgb(from var(--cc-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 50% 25%,
        rgb(from var(--cb-color) r g b / 50%),
        rgb(from var(--cb-color) r g b / 40%) 25%,
        rgb(from var(--cb-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 16.67% 75%,
        rgb(from var(--cd-color) r g b / 50%),
        rgb(from var(--cd-color) r g b / 40%) 25%,
        rgb(from var(--cd-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 83.33% 75%,
        rgb(from var(--cf-color) r g b / 50%),
        rgb(from var(--cf-color) r g b / 40%) 25%,
        rgb(from var(--cf-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 50% 75%,
        rgb(from var(--ce-color) r g b / 50%),
        rgb(from var(--ce-color) r g b / 40%) 25%,
        rgb(from var(--ce-color) r g b / 10%) 75%,
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 16.67% 25%,
        var(--ca-color),
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 50% 25%,
        var(--cb-color),
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 83.33% 25%,
        var(--cc-color),
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 16.67% 75%,
        var(--cd-color),
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 50% 75%,
        var(--ce-color),
        transparent
      ),
      radial-gradient(
        var(--ellipse-w) var(--ellipse-h) at 83.33% 75%,
        var(--cf-color),
        transparent
      ),
      linear-gradient(0deg, var(--base-color), var(--base-color));
  }
</style>

<script>
  function toggleLqip() {
    let s = document.getElementById("lqip-debug");
    if (s) s.remove();
    else {
      s = document.createElement("style");
      s.innerHTML = `[style*="--lqip:"]{object-position:calc(infinity*1px)!important}`;
      s.id = "lqip-debug";
      document.head.append(s);
    }
  }
  toggleLqip();
  document.body.addEventListener("click", toggleLqip);
</script>
